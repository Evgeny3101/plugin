!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,i){"use strict";function n(e,t){var i=Math.round(e/t)*t,n=t.toString().includes(".")?t.toString().split(".").pop().length:0;return i=Number(i.toFixed(n))}function o(e,t){var i=document.createElement("div");i.innerHTML=e;var n=i.firstElementChild;return t&&t.append(n),n}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.DOM=void 0,this.DOM=o('<div class="js-range-slider"></div>')}var t,i,n;return t=e,(i=[{key:"setClassPosition",value:function(e){e?this.DOM.classList.add("js-range-slider_vertical"):this.DOM.classList.add("js-range-slider_horizontal")}}])&&s(t.prototype,i),n&&s(t,n),e}();function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers=void 0,this.observers=[]}var t,i,n;return t=e,(i=[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"notify",value:function(e){this.observers.forEach((function(t){return t(e)}))}}])&&a(t.prototype,i),n&&a(t,n),e}();function l(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=i,this.isInvert=n,this.Observable=new u,this.coord=void 0,this.DOM=void 0,this.handleButtonMousedown=void 0,this.DOM=o('<div class="js-range-slider__button"></div>',t),this.handleButtonMousedown=this.move.bind(this)}var t,i,n;return t=e,(i=[{key:"move",value:function(e){var t=this,i=this.pos,n=i.page,o=i.offsetFrom,s=i.offsetSize,r=i.clientSize,a=this.isInvert,u=e.target,l=u.parentElement,c=e[n],h=u[o],f=l[r]-u[s];return document.onmousemove=function(e){var i,o=e[n];(i=a?c-o+(f-h):h-(c-o))<0&&(i=0),i>f&&(i=f),t.setCoord(i),t.Observable.notify({isMouseDown:!0})},document.onmouseup=function(){t.Observable.notify({isMouseDown:!1}),document.onmousemove=null,document.onmouseup=null},!1}},{key:"setCoord",value:function(e){this.coord=e}},{key:"toPosition",value:function(){this.DOM.setAttribute("style","".concat(this.pos.offset," : ").concat(this.coord,"px"))}}])&&l(t.prototype,i),n&&l(t,n),e}();function h(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function v(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pos=i,this.isProgress=n,this.buttonSize=0,this.DOM=void 0,this.buttonsCoord=void 0,this.DOM=o('\n      <div class="js-range-slider__interval">\n        <div class="js-slider-interval"></div>\n      </div>',t)}var t,i,n;return t=e,(i=[{key:"setButtonValue",value:function(e){this.buttonSize=e}},{key:"setCoords",value:function(e){var t=h(e);this.isProgress?this.buttonsCoord=[0,t[0]]:(this.buttonsCoord=t,this.checkOverrun())}},{key:"toPosition",value:function(){var e=this.buttonsCoord,t=this.buttonSize,i=e[1]-e[0],n=e[0]+t/2;this.DOM.setAttribute("style"," ".concat(this.pos.offset,": ").concat(n,"px;\n        ").concat(this.pos.size,": ").concat(i,"px;\n      "))}},{key:"checkOverrun",value:function(){(this.buttonsCoord[0]>this.buttonsCoord[1]||this.buttonsCoord[1]<this.buttonsCoord[0])&&this.buttonsCoord.reverse()}}])&&v(t.prototype,i),n&&v(t,n),e}();function b(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isLabelOnClick=i,this.positionName=n,this.DOM=void 0,this.input=void 0,this.coord=void 0,this.handleButtonMousedown=void 0,this.handleButtonMouseup=void 0,this.createElements(t),i&&(this.handleButtonMousedown=this.show.bind(this),this.handleButtonMouseup=this.hide.bind(this))}var t,i,n;return t=e,(i=[{key:"setCoord",value:function(e){this.coord=e}},{key:"toPosition",value:function(){this.DOM.setAttribute("style","".concat(this.positionName," : ").concat(this.coord,"px"))}},{key:"show",value:function(){this.DOM.children[0].classList.remove("js-button-label_hide")}},{key:"hide",value:function(){this.DOM.children[0].classList.add("js-button-label_hide")}},{key:"setValue",value:function(e){this.input.value=String(e)}},{key:"createElements",value:function(e){this.DOM=o('<div class="js-range-slider__container-label">\n        <div class="js-button-label">\n          <input class="js-button-label__input" readonly> </input>\n        </div>\n      </div>',e),this.input=this.DOM.querySelector("input")}}])&&b(t.prototype,i),n&&b(t,n),e}();function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.Observable=new u,this.value=void 0,this.coord=void 0,this.DOM=void 0,this.lineDOM=void 0,this.numberDOM=void 0,this.handlePointClick=void 0,this.DOM=o('<div class="js-scale-point"></div>',t),i&&(this.numberDOM=o('<div class="js-scale-point__number"></div>',this.DOM)),this.lineDOM=o(n?'<div class="js-scale-point__long-line"></div>':'<div class="js-scale-point__short-line"></div>',this.DOM),this.handlePointClick=this.clickPoint.bind(this)}var t,i,n;return t=e,(i=[{key:"clickPoint",value:function(){this.Observable.notify({value:this.value})}}])&&g(t.prototype,i),n&&g(t,n),e}();function m(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=i,this.points=[],this.DOM=void 0,this.DOM=o('<div class="js-scale-range"></div>',t),this.createPoints()}var t,i,s;return t=e,(i=[{key:"setScale",value:function(e){this.setValue(),this.determineСoordScale(e)}},{key:"setValue",value:function(){var e,t=this.config,i=t.minValue,o=t.maxValue,s=t.step,r=t.isInvert,a=(Math.abs(i)+o)/(this.points.length-1);e=r?o:i,this.points.forEach((function(t){var i=t;i.value=n(e,s),i.numberDOM&&(i.numberDOM.innerText=String(i.value)),e=r?e-a:e+a}))}},{key:"createPoints",value:function(){for(var e=this.config,t=e.points,i=e.numberForEach,n=e.longForEach,o=0;o<t;o+=1){var s=o%i==0,r=o%n==0;this.points[o]=new y(this.DOM,s,r)}}},{key:"determineСoordScale",value:function(e){var t=this.config.isInvert,i=e/(this.points.length-1),n=t?e:0;this.points.forEach((function(e){e.coord=n,n=t?n-=i:n+=i}))}}])&&m(t.prototype,i),s&&m(t,s),e}();function w(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.index=i,this.Observable=new u,this.DOM=void 0,this.handleTextFieldBlur=void 0,this.find(t),this.handleTextFieldBlur=this.getValue.bind(this)}var t,i,n;return t=e,(i=[{key:"find",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Text field not found.");this.DOM=t}},{key:"getValue",value:function(){var e;e=this.DOM instanceof HTMLInputElement?Number(this.DOM.value)||0:Number(this.DOM.innerText)||0,this.Observable.notify({value:e,index:this.index})}},{key:"setValue",value:function(e){this.DOM instanceof HTMLInputElement?this.DOM.value=String(e):this.DOM.innerText=String(e)}}])&&w(t.prototype,i),n&&w(t,n),e}();function k(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var D=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.config=i,this.range=void 0,this.button=[],this.textField=[],this.label=[],this.interval=void 0,this.scale=void 0,this.pos=void 0,this.step=void 0,this.rangeSize=void 0,this.handleWindowResize=void 0,this.setPositionVariables(),this.installComponents(),this.setElementsParameters(),this.setValues(this.config.sliderValues),this.convertValues(this.config.sliderValues),this.setCoords(),this.toPositionElements(),this.handleWindowResize=this.resizeSlider.bind(this)}var t,i,n;return t=e,(i=[{key:"setValues",value:function(e){this.config.sliderValues=e,this.textField&&this.textField.forEach((function(t,i){t.setValue(e[i])})),this.label&&this.label.forEach((function(t,i){t.setValue(e[i])}))}},{key:"convertValues",value:function(e){var t=this,i=this.config,n=i.minValue;if(i.isRange)e.forEach((function(e,i){var o=t.step*(e+Math.abs(n));t.button[i].setCoord(o)}));else{var o=this.step*(e[0]+Math.abs(n));this.button[0].setCoord(o)}}},{key:"setCoords",value:function(){var e=this,t=this.config,i=t.isLabel,n=t.isInvert,o=this.button.map((function(e){return e.coord})),s=this.button.map((function(t){return t.DOM[e.pos.offsetSize]}));this.interval&&this.interval.setCoords(o),i&&this.label.forEach((function(e,t){n?e.setCoord(o[t]+s[t]):e.setCoord(o[t])}))}},{key:"toPositionElements",value:function(){this.button.forEach((function(e){return e.toPosition()})),this.interval&&this.interval.toPosition(),this.label&&this.label.forEach((function(e){return e.toPosition()}))}},{key:"setPositionVariables",value:function(){var e=this.config,t=e.isVertical,i=e.isInvert;this.pos=t?{size:"height",offset:i?"bottom":"top",clientSize:"clientHeight",offsetSize:"offsetHeight",page:"pageY",offsetFrom:"offsetTop"}:{size:"width",offset:i?"right":"left",clientSize:"clientWidth",offsetSize:"offsetWidth",page:"pageX",offsetFrom:"offsetLeft"}}},{key:"installComponents",value:function(){var e=this,t=this.config,i=t.isRange,n=t.isProgress,o=t.isInvert,s=t.isVertical,a=t.isLabel,u=t.isLabelOnClick,l=t.isScale,h=t.textField,f=i||n;this.range=new r,this.range.setClassPosition(s),this.button=[];for(var v=i?2:1,b=0;b<v;b+=1)this.button[b]=new c(this.range.DOM,this.pos,o);f&&(this.interval=new d(this.range.DOM,this.pos,n)),a&&(this.label=[],this.button.forEach((function(t,i){e.label[i]=new p(e.range.DOM,u,e.pos.offset)}))),l&&(this.scale=new O(this.range.DOM,this.config)),h&&h.forEach((function(t,i){e.textField[i]=new M(t,i)})),this.parent.append(this.range.DOM)}},{key:"updateRangeSize",value:function(){var e=this.config,t=e.minValue,i=e.maxValue,n=this.button[0].DOM[this.pos.offsetSize],o=this.range.DOM[this.pos.clientSize];this.rangeSize=o-n;var s=Math.abs(i-t);this.step=this.rangeSize/s}},{key:"setElementsParameters",value:function(){if(this.updateRangeSize(),this.interval){var e=this.button[0].DOM[this.pos.offsetSize];this.interval.setButtonValue(e)}this.scale&&this.scale.setScale(this.rangeSize)}},{key:"resizeSlider",value:function(){this.updateRangeSize(),this.setValues(this.config.sliderValues),this.convertValues(this.config.sliderValues),this.setCoords(),this.toPositionElements()}}])&&k(t.prototype,i),n&&k(t,n),e}();function C(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.Observable=new u;var i=this.config.sliderValues;this.setNewValues(i)}var t,i,o;return t=e,(i=[{key:"convertCoords",value:function(e){var t=e.buttonsCoords,i=e.stepInCoord,n=this.config.minValue,o=t.map((function(e){return e/i+n}));this.setNewValues(o)}},{key:"updateValue",value:function(e,t){var i=this.config.sliderValues;i[t]=e,this.setNewValues(i)}},{key:"setNewValues",value:function(e){var t=[];this.config.isRange?(t.push(Math.min.apply(null,e)),t.push(Math.max.apply(null,e))):t=e,t=this.checkLimit(t),t=this.putInStep(t),this.config.sliderValues=t,this.Observable.notify({value:t})}},{key:"checkLimit",value:function(e){var t=this.config,i=t.minValue,n=t.maxValue,o=[];return e.forEach((function(e){e<i?o.push(i):e>n?o.push(n):o.push(e)})),o}},{key:"putInStep",value:function(e){var t=this.config.step,i=[];return e.forEach((function(e,o){i[o]=n(e,t)})),i}}])&&C(t.prototype,i),o&&C(t,o),e}();function S(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var P=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=t,this.view=i,this.config=n,this.isMouseDown=!1,this.subscribeToChangeValue(),this.subscribeButtons(),this.subscribeTextField(),this.subscribePoint()}var t,i,n;return t=e,(i=[{key:"subscribeToChangeValue",value:function(){var e=this;this.model.Observable.subscribe((function(t){var i=t.value;e.isMouseDown||(e.view.convertValues(i),e.view.setCoords(),e.view.toPositionElements()),e.view.setValues(i)}))}},{key:"subscribeButtons",value:function(){var e=this;this.view.button.forEach((function(t,i){t.Observable.subscribe((function(n){var o=n.isMouseDown,s=e.view,r=s.step,a=s.label,u=e.config,l=u.isRange,c=u.isLabel,h=e.view.button.map((function(e){return e.coord}));e.isMouseDown=o,l&&(o?(t.DOM.classList.add("js-range-slider__button_lift-up"),c&&a[i].DOM.classList.add("js-button-label_lift-up")):(t.DOM.classList.remove("js-range-slider__button_lift-up"),c&&a[i].DOM.classList.remove("js-button-label_lift-up"))),o&&(e.view.setCoords(),e.view.toPositionElements()),e.model.convertCoords({buttonsCoords:h,stepInCoord:r})}))}))}},{key:"subscribeTextField",value:function(){var e=this;this.view.textField&&this.view.textField.forEach((function(t){t.Observable.subscribe((function(t){var i=t.value,n=t.index;e.model.updateValue(i,n)}))}))}},{key:"subscribePoint",value:function(){var e=this;this.view.scale&&this.view.scale.points.forEach((function(t){t.Observable.subscribe((function(i){var n,o=i.value;if(e.config.isRange){var s=e.view.button[0].coord,r=(e.view.button[1].coord-s)/2+s;n=t.coord>r?1:0}else n=0;e.model.updateValue(o,n)}))}))}}])&&S(t.prototype,i),n&&S(t,n),e}();function V(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function j(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?V(Object(i),!0).forEach((function(t){L(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function x(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.model=void 0,this.view=void 0,this.controller=void 0,this.mainDOM=void 0,this.defaultConfig=void 0,this.currentConfig=void 0,this.defaultConfig={sliderType:"single",sliderValues:[-25,25],minValue:0,maxValue:100,step:1,textField:[],isVertical:!1,isInvert:!1,isLabel:!1,isLabelOnClick:!1,isScale:!1,points:13,numberForEach:4,longForEach:2},this.findDOM(t),this.setConfig(i)}var t,i,n;return t=e,(i=[{key:"setConfig",value:function(e){var t=j(j(j({},this.defaultConfig),this.currentConfig),e),i=e.sliderType,n=e.value1Slider,o=e.value2Slider;"number"==typeof n&&(t.sliderValues[0]=n,delete t.value1Slider),"number"==typeof o&&(t.sliderValues[1]=o,delete t.value2Slider),i&&(t.isSingle="single"===i,t.isRange="range"===i,t.isProgress="progress"===i),delete t.sliderType,this.currentConfig=t,this.init()}},{key:"init",value:function(){this.model=new E(this.currentConfig),this.currentConfig.sliderValues=this.model.config.sliderValues,this.view=new D(this.mainDOM,this.currentConfig),this.controller=new P(this.model,this.view,this.currentConfig),this.setListeners()}},{key:"setListeners",value:function(){var e=this.controller.view,t=this.currentConfig.isLabel&&this.currentConfig.isLabelOnClick;window.addEventListener("resize",e.handleWindowResize),e.button.forEach((function(e){e.DOM.addEventListener("mousedown",e.handleButtonMousedown)})),e.textField.forEach((function(e){e.DOM&&e.DOM.addEventListener("blur",e.handleTextFieldBlur)})),e.scale&&e.scale.points.forEach((function(e){e.DOM.addEventListener("click",e.handlePointClick)})),t&&e.label.forEach((function(t,i){t.hide(),e.button[i].DOM.addEventListener("mousedown",t.handleButtonMousedown),document.addEventListener("mouseup",t.handleButtonMouseup)}))}},{key:"removeListeners",value:function(){var e=this.controller.view,t=this.currentConfig.isLabel&&this.currentConfig.isLabelOnClick;window.removeEventListener("resize",e.handleWindowResize),e.button.forEach((function(e){e.DOM.removeEventListener("mousedown",e.handleButtonMousedown)})),e.textField.forEach((function(e){e.DOM&&e.DOM.removeEventListener("blur",e.handleTextFieldBlur)})),e.scale&&e.scale.points.forEach((function(e){e.DOM.removeEventListener("click",e.handlePointClick)})),t&&e.label.forEach((function(t,i){t.show(),e.button[i].DOM.removeEventListener("mousedown",t.handleButtonMousedown),document.removeEventListener("mouseup",t.handleButtonMouseup)}))}},{key:"delete",value:function(){this.removeListeners(),this.mainDOM.innerHTML=""}},{key:"findDOM",value:function(e){var t=document.querySelector(e);if(!t)throw new Error("Main DOM element not found.");this.mainDOM=t}}])&&x(t.prototype,i),n&&x(t,n),e}();t.a=T},,,,,,,,function(e,t,i){"use strict";i.r(t);i(9),i(10),i(11),new(i(0).a)(".rangeSlider1",{textField:[".text-field1",".text-field2"],sliderType:"range",value1Slider:-22,value2Slider:43,minValue:-100,step:10,isLabel:!0,isLabelOnClick:!0,isScale:!0,points:21})},function(e,t,i){},function(e,t,i){},function(e,t,i){}]);